(()=>{"use strict";var t={n:e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return t.d(n,{a:n}),n},d:(e,n)=>{for(var a in n)t.o(n,a)&&!t.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:n[a]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)};const e=jQuery;var n=t.n(e);class a{constructor(t){this.userInfo=t.userInfo,this.homeUrl=t.homeUrl}initLogin(){let t=this;200==this.userInfo.errorCode&&this.userInfo.userName?(n()("#btnLogin").hide(),n()(".lgoined").show(),n()(".canNotLogin").hide(),n()("#labLogined").html(`${this.userInfo.userName} 已登录`)):(n()("#btnLogin").show(),n()(".canNotLogin").show(),n()(".lgoined").hide()),n()("#btnLogin").on("click",(function(){let e=encodeURIComponent(`${t.homeUrl}`),n=window.open(`https://www.live2dweb.com/SingleLogin?referer=${e}`,"Login","toolbar=no,location=no,resizable=no, height=680, width=500"),a=window.screen.availWidth-500,r=window.screen.availHeight-680;try{n.moveTo(a/2,r/2)}catch(t){}let i=setInterval((()=>{n.closed&&(window.location.reload(),clearInterval(i))}),500);console.log("已打开登陆窗口")}))}initControl(){var t=this;n()(".group").hide(),n()(".nav-tab-wrapper a").removeClass("nav-tab-active");var e="";"undefined"!=typeof localStorage&&(e=localStorage.getItem("activetab")),""!==e&&n()(e).length?n()(e).fadeIn():n()(".group:first").fadeIn(),""!==e&&n()(e+"_btn").length?n()(e+"_btn").addClass("nav-tab-active"):n()("#settings_btn").addClass("nav-tab-active"),n()(".nav-tab-wrapper a").on("click",(function(t){n()(".nav-tab-wrapper a").removeClass("nav-tab-active"),n()(this).addClass("nav-tab-active");var e=n()(this).attr("href");n()(".group").hide(),n()(e).fadeIn(),t.preventDefault(),"undefined"!=typeof localStorage&&localStorage.setItem("activetab",e)})),n()("input.addbtn").on("click",(function(){var e=n()(this).attr("optname"),a=n()(this).attr("keyname"),r=n()(this).attr("arrtype");t.addMsgInput(e,a,this,r)})),n()("input.delbtn").on("click",(function(){var e=n()(this).attr("optname"),a=n()(this).attr("keyname"),r=n()(this).attr("arrtype");t.delMsgInput(e,a,this,r)})),n()("input[type=range]").on("input propertychange",(function(){let t=n()(this).val();n()(this).next(".result").html(`${t}`)}))}addMsgInput(t,e,a,r){var i=this,o=n()("p."+e),l=o.length,s=o.last().clone();switch(r){case"Selector":s.children("input.selector").attr("name",t+"["+e+"]["+l+"][selector]").attr("id",e+"_"+l+"_selector").val(""),s.children("input.text").attr("name",t+"["+e+"]["+l+"][text]").attr("id",e+"_"+l+"_text").val("");break;case"Array":s.children("input:eq(0)").attr("name",t+"["+e+"]["+l+"][0]").attr("id",e+"_"+l+"_0").val(""),s.children("input:eq(1)").attr("name",t+"["+e+"]["+l+"][1]").attr("id",e+"_"+l+"_1").val("");break;case"List":s.children("input.textArray").attr("name",t+"["+e+"]["+l+"]").attr("id",e+"_"+l).val("")}s.children("input.delbtn").attr("name",e+"_delbtn"+l).attr("id",e+"_delbtn"+l).on("click",(function(){i.delMsgInput(t,e,this,r)})),o.last().after(s)}delMsgInput(t,e,a,r){0!=n()(a).parent().siblings("."+e).length&&n()(a).parent().fadeOut("fast",(function(){n()(this).siblings("."+e).each((function(a,i){switch(r){case"Selector":n()(i).children(".selector").attr("name",t+"["+e+"]["+a+"][selector]").attr("id",e+"_"+a+"_selector"),n()(i).children(".text").attr("name",t+"["+e+"]["+a+"][text]").attr("id",e+"_"+a+"_text");break;case"Array":n()(i).children("input:eq(0)").attr("name",t+"["+e+"]["+a+"][0]").attr("id",e+"_"+a+"_0"),n()(i).children("input:eq(1)").attr("name",t+"["+e+"]["+a+"][1]").attr("id",e+"_"+a+"_1");break;case"List":n()(i).children("input.textArray").attr("name",t+"["+e+"]["+a+"]").attr("id",e+"_"+a)}n()(i).children("input.delbtn").attr("id",e+"_delbtn"+a).attr("name",e+"_delbtn"+a)})),this.remove()}))}}n()((function(){var t=new a(settings);t.initLogin(),t.initControl()}))})();